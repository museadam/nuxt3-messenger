{"version":3,"file":"index-799d0381.js","sources":["../../../../components/SignUp.vue","../../../../pages/index.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- partial:index.partial.html -->\n    <section class=\"login\" id=\"login\">\n      <div class=\"head\">\n        <h1 class=\"company\">Sign Up</h1>\n      </div>\n      <p class=\"msg\">Create Your Login</p>\n      <div class=\"form\">\n        <form>\n          <input type=\"text\" placeholder=\"First name\" class=\"text\" id=\"firstName\" required v-model=\"fName\" /><br />\n          <input type=\"text\" placeholder=\"Last name\" class=\"text\" id=\"lastName\" required v-model=\"lName\" /><br />\n          <input type=\"text\" placeholder=\"Email\" class=\"text\" id=\"email\" required v-model=\"email\" /><br />\n\n          <button @click.once.prevent=\"signUp\" class=\"btn-login mt-3\" id=\"do-login\">Submit</button>\n          <!-- <a href=\"/\" class=\"forgot\">Forgot?</a> -->\n        </form>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { User } from \"@prisma/client\";\n\nimport { APIResponse } from '~/types/api'\nimport { currentUser } from '~/store/store';\nlet name: string;\nlet email: string;\nlet lName: string;\nlet fName: string;\n\n// const emailTester = new RegExp(email)\nconst signUp = async () => {\n  name = fName + ' ' + lName;\n  try {\n    const firstName = fName;\n    const lastName = lName;\n    email.toLowerCase();\n\n    const signUpResponse: APIResponse<User> = await $fetch('/api/v1/users/sign-up', {\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        firstName,\n        lastName,\n        email,\n      }),\n    })\n    console.log(signUpResponse.status)\n\n    if (signUpResponse.status === 200) {\n\n      currentUser.value = signUpResponse.data\n\n      console.log(currentUser.value)\n      localStorage.setItem('User', JSON.stringify({\n        ...signUpResponse.data\n      }))\n\n    }\n  } catch (err) {\n    console.error(err);\n  }\n}\n</script>","<template>\n  <div class=\" flex justify-center\">\n\n    <div class=\" flex flex-col w-80% \">\n      <div v-if=\"currentUser.id\">\n\n        <div v-for=\"room in rooms\">\n          <button @click=\"$router.push(`/rooms/${room}`)\">\n            {{ room }}\n          </button>\n        </div>\n      </div>\n      <div v-else>\n        <SignUp />\n      </div>\n    </div>\n\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { currentUser } from '~/store/store';\n\nconst rooms = [\n  'cia',\n  'fbi',\n  'nsa'\n]\n\n\n</script>\n"],"names":[],"mappings":";;;;;;;AA4BI,QAAA;AACA,QAAA;AACA,QAAA;;;;;;;;;;;;;;;;ACRJ,UAAM,QAAQ;AAAA,MACZ;AAAA,MACA;AAAA,MACA;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;"}